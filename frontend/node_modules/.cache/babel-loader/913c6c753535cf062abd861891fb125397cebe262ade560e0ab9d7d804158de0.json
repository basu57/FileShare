{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{Container,Row,Col,Card,Button}from'react-bootstrap';import{Link}from'react-router-dom';import{FaFileAlt,FaShareAlt,FaUpload}from'react-icons/fa';import axios from'../../utils/axios';import AuthContext from'../../context/AuthContext';import Spinner from'../../components/layout/Spinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const{user}=useContext(AuthContext);const[stats,setStats]=useState({totalDocuments:0,sharedWithMe:0});const[loading,setLoading]=useState(true);useEffect(()=>{const fetchStats=async()=>{try{// Get my documents count\nconst myDocsRes=await axios.get('/api/documents');// Get shared with me count\nconst sharedDocsRes=await axios.get('/api/documents/shared');setStats({totalDocuments:myDocsRes.data.count,sharedWithMe:sharedDocsRes.data.count});}catch(err){console.error('Error fetching stats:',err);}finally{setLoading(false);}};fetchStats();},[]);if(loading){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-4\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"lead\",children:[\"Welcome back, \",user===null||user===void 0?void 0:user.name]}),/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Col,{md:4,className:\"mb-3\",children:/*#__PURE__*/_jsx(Card,{className:\"h-100 shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(FaFileAlt,{className:\"text-primary me-2\",size:24}),/*#__PURE__*/_jsx(Card.Title,{className:\"mb-0\",children:\"My Documents\"})]}),/*#__PURE__*/_jsxs(Card.Text,{className:\"mb-4\",children:[\"You have \",/*#__PURE__*/_jsx(\"strong\",{children:stats.totalDocuments}),\" documents\"]}),/*#__PURE__*/_jsx(Button,{as:Link,to:\"/my-documents\",variant:\"outline-primary\",className:\"mt-auto\",children:\"View Documents\"})]})})}),/*#__PURE__*/_jsx(Col,{md:4,className:\"mb-3\",children:/*#__PURE__*/_jsx(Card,{className:\"h-100 shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(FaShareAlt,{className:\"text-success me-2\",size:24}),/*#__PURE__*/_jsx(Card.Title,{className:\"mb-0\",children:\"Shared With Me\"})]}),/*#__PURE__*/_jsxs(Card.Text,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"strong\",{children:stats.sharedWithMe}),\" documents shared with you\"]}),/*#__PURE__*/_jsx(Button,{as:Link,to:\"/shared-with-me\",variant:\"outline-success\",className:\"mt-auto\",children:\"View Shared Documents\"})]})})}),/*#__PURE__*/_jsx(Col,{md:4,className:\"mb-3\",children:/*#__PURE__*/_jsx(Card,{className:\"h-100 shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(FaUpload,{className:\"text-info me-2\",size:24}),/*#__PURE__*/_jsx(Card.Title,{className:\"mb-0\",children:\"Upload Document\"})]}),/*#__PURE__*/_jsx(Card.Text,{className:\"mb-4\",children:\"Securely store and share your important documents\"}),/*#__PURE__*/_jsx(Button,{as:Link,to:\"/upload-document\",variant:\"outline-info\",className:\"mt-auto\",children:\"Upload New Document\"})]})})})]}),/*#__PURE__*/_jsx(Row,{className:\"mt-5\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Card,{className:\"shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"About Secure Doc Share\"}),/*#__PURE__*/_jsx(Card.Text,{children:\"Secure Doc Share is a platform for securely storing and sharing government documents with family members. Your documents are encrypted and stored safely in the cloud, and you have complete control over who can access them.\"}),/*#__PURE__*/_jsx(Card.Text,{children:\"Use the navigation menu to manage your documents, share them with family members, and update your profile.\"})]})})})})]});};export default Dashboard;","map":{"version":3,"names":["React","useContext","useEffect","useState","Container","Row","Col","Card","Button","Link","FaFileAlt","FaShareAlt","FaUpload","axios","AuthContext","Spinner","jsx","_jsx","jsxs","_jsxs","Dashboard","user","stats","setStats","totalDocuments","sharedWithMe","loading","setLoading","fetchStats","myDocsRes","get","sharedDocsRes","data","count","err","console","error","children","className","name","md","Body","size","Title","Text","as","to","variant"],"sources":["C:/Users/HP/Desktop/fileshare/client/src/pages/dashboard/Dashboard.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Container, Row, Col, Card, Button } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { FaFileAlt, FaShareAlt, FaUpload } from 'react-icons/fa';\nimport axios from '../../utils/axios';\nimport AuthContext from '../../context/AuthContext';\nimport Spinner from '../../components/layout/Spinner';\n\nconst Dashboard = () => {\n  const { user } = useContext(AuthContext);\n  const [stats, setStats] = useState({\n    totalDocuments: 0,\n    sharedWithMe: 0\n  });\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchStats = async () => {\n      try {\n        // Get my documents count\n        const myDocsRes = await axios.get('/api/documents');\n        \n        // Get shared with me count\n        const sharedDocsRes = await axios.get('/api/documents/shared');\n        \n        setStats({\n          totalDocuments: myDocsRes.data.count,\n          sharedWithMe: sharedDocsRes.data.count\n        });\n      } catch (err) {\n        console.error('Error fetching stats:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchStats();\n  }, []);\n\n  if (loading) {\n    return <Spinner />;\n  }\n\n  return (\n    <Container>\n      <h1 className=\"mb-4\">Dashboard</h1>\n      <p className=\"lead\">Welcome back, {user?.name}</p>\n      \n      <Row className=\"mb-4\">\n        <Col md={4} className=\"mb-3\">\n          <Card className=\"h-100 shadow-sm\">\n            <Card.Body className=\"d-flex flex-column\">\n              <div className=\"d-flex align-items-center mb-3\">\n                <FaFileAlt className=\"text-primary me-2\" size={24} />\n                <Card.Title className=\"mb-0\">My Documents</Card.Title>\n              </div>\n              <Card.Text className=\"mb-4\">\n                You have <strong>{stats.totalDocuments}</strong> documents\n              </Card.Text>\n              <Button \n                as={Link} \n                to=\"/my-documents\" \n                variant=\"outline-primary\"\n                className=\"mt-auto\"\n              >\n                View Documents\n              </Button>\n            </Card.Body>\n          </Card>\n        </Col>\n        \n        <Col md={4} className=\"mb-3\">\n          <Card className=\"h-100 shadow-sm\">\n            <Card.Body className=\"d-flex flex-column\">\n              <div className=\"d-flex align-items-center mb-3\">\n                <FaShareAlt className=\"text-success me-2\" size={24} />\n                <Card.Title className=\"mb-0\">Shared With Me</Card.Title>\n              </div>\n              <Card.Text className=\"mb-4\">\n                <strong>{stats.sharedWithMe}</strong> documents shared with you\n              </Card.Text>\n              <Button \n                as={Link} \n                to=\"/shared-with-me\" \n                variant=\"outline-success\"\n                className=\"mt-auto\"\n              >\n                View Shared Documents\n              </Button>\n            </Card.Body>\n          </Card>\n        </Col>\n        \n        <Col md={4} className=\"mb-3\">\n          <Card className=\"h-100 shadow-sm\">\n            <Card.Body className=\"d-flex flex-column\">\n              <div className=\"d-flex align-items-center mb-3\">\n                <FaUpload className=\"text-info me-2\" size={24} />\n                <Card.Title className=\"mb-0\">Upload Document</Card.Title>\n              </div>\n              <Card.Text className=\"mb-4\">\n                Securely store and share your important documents\n              </Card.Text>\n              <Button \n                as={Link} \n                to=\"/upload-document\" \n                variant=\"outline-info\"\n                className=\"mt-auto\"\n              >\n                Upload New Document\n              </Button>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n      \n      <Row className=\"mt-5\">\n        <Col>\n          <Card className=\"shadow-sm\">\n            <Card.Body>\n              <Card.Title>About Secure Doc Share</Card.Title>\n              <Card.Text>\n                Secure Doc Share is a platform for securely storing and sharing government documents with family members.\n                Your documents are encrypted and stored safely in the cloud, and you have complete control over who can access them.\n              </Card.Text>\n              <Card.Text>\n                Use the navigation menu to manage your documents, share them with family members, and update your profile.\n              </Card.Text>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
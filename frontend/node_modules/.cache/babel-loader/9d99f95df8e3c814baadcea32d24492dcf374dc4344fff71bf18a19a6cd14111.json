{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/Desktop/fileshare/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useContext}from'react';import{Container,Row,Col,Card,Button,Form,Tab,Tabs,Alert,Badge,ListGroup}from'react-bootstrap';import{useParams,useLocation,useNavigate}from'react-router-dom';import{FaDownload,FaEdit,FaTrash,FaShare,FaSave,FaTimes}from'react-icons/fa';import axios from'../../utils/axios';import{toast}from'react-toastify';import AuthContext from'../../context/AuthContext';import Spinner from'../../components/layout/Spinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DocumentDetails=()=>{var _location$state;const{id}=useParams();const location=useLocation();const navigate=useNavigate();const{user}=useContext(AuthContext);const[document,setDocument]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[editing,setEditing]=useState(false);const[activeTab,setActiveTab]=useState((_location$state=location.state)!==null&&_location$state!==void 0&&_location$state.shareTab?'share':'details');const[formData,setFormData]=useState({title:'',description:'',documentType:''});const[shareData,setShareData]=useState({email:'',accessLevel:'view'});const[sharedUsers,setSharedUsers]=useState([]);useEffect(()=>{const fetchDocument=async()=>{try{const res=await axios.get(\"/api/documents/\".concat(id));setDocument(res.data.data);setFormData({title:res.data.data.title,description:res.data.data.description,documentType:res.data.data.documentType});// Set shared users from the document data\nif(res.data.data.sharedWith&&res.data.data.sharedWith.length>0){setSharedUsers(res.data.data.sharedWith);}}catch(err){var _err$response,_err$response$data,_err$response2,_err$response2$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to fetch document');toast.error(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Failed to fetch document');}finally{setLoading(false);}};fetchDocument();},[id]);const handleInputChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleShareInputChange=e=>{setShareData(_objectSpread(_objectSpread({},shareData),{},{[e.target.name]:e.target.value}));};const handleUpdate=async e=>{e.preventDefault();try{const res=await axios.put(\"/api/documents/\".concat(id),formData);setDocument(res.data.data);setEditing(false);toast.success('Document updated successfully');}catch(err){var _err$response3,_err$response3$data;toast.error(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||'Failed to update document');}};const handleDelete=async()=>{if(window.confirm('Are you sure you want to delete this document?')){try{await axios.delete(\"/api/documents/\".concat(id));toast.success('Document deleted successfully');navigate('/my-documents');}catch(err){var _err$response4,_err$response4$data;toast.error(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.message)||'Failed to delete document');}}};const handleShare=async e=>{e.preventDefault();try{await axios.post(\"/api/documents/\".concat(id,\"/share\"),shareData);// Refresh document to get updated shared users\nconst res=await axios.get(\"/api/documents/\".concat(id));setDocument(res.data.data);setSharedUsers(res.data.data.sharedWith);// Reset form\nsetShareData({email:'',accessLevel:'view'});toast.success('Document shared successfully');}catch(err){var _err$response5,_err$response5$data;toast.error(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.message)||'Failed to share document');}};const handleUpdateAccess=async(userId,newAccessLevel)=>{try{await axios.put(\"/api/documents/\".concat(id,\"/share/\").concat(userId),{accessLevel:newAccessLevel});// Refresh document to get updated shared users\nconst res=await axios.get(\"/api/documents/\".concat(id));setDocument(res.data.data);setSharedUsers(res.data.data.sharedWith);toast.success('Access level updated successfully');}catch(err){var _err$response6,_err$response6$data;toast.error(((_err$response6=err.response)===null||_err$response6===void 0?void 0:(_err$response6$data=_err$response6.data)===null||_err$response6$data===void 0?void 0:_err$response6$data.message)||'Failed to update access level');}};const handleRevokeAccess=async userId=>{if(window.confirm('Are you sure you want to revoke access for this user?')){try{await axios.delete(\"/api/documents/\".concat(id,\"/share/\").concat(userId));// Refresh document to get updated shared users\nconst res=await axios.get(\"/api/documents/\".concat(id));setDocument(res.data.data);setSharedUsers(res.data.data.sharedWith);toast.success('Access revoked successfully');}catch(err){var _err$response7,_err$response7$data;toast.error(((_err$response7=err.response)===null||_err$response7===void 0?void 0:(_err$response7$data=_err$response7.data)===null||_err$response7$data===void 0?void 0:_err$response7$data.message)||'Failed to revoke access');}}};if(loading){return/*#__PURE__*/_jsx(Spinner,{});}if(error){return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>navigate(-1),children:\"Go Back\"})]});}// Use the isOwner flag from the server response\nconst isOwner=document.isOwner;// Check if the user has edit access\nconst canEdit=isOwner||document.sharedWith.some(share=>share.user&&share.user._id===user._id&&share.accessLevel==='edit');return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Card,{className:\"shadow-sm mb-4\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Tabs,{activeKey:activeTab,onSelect:k=>setActiveTab(k),className:\"mb-4\",children:[/*#__PURE__*/_jsx(Tab,{eventKey:\"details\",title:\"Document Details\",children:editing?/*#__PURE__*/_jsxs(Form,{onSubmit:handleUpdate,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"title\",value:formData.title,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,name:\"description\",value:formData.description,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Document Type\"}),/*#__PURE__*/_jsxs(Form.Select,{name:\"documentType\",value:formData.documentType,onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select document type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Aadhaar\",children:\"Aadhaar\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PAN Card\",children:\"PAN Card\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Passport\",children:\"Passport\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Driving License\",children:\"Driving License\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Voter ID\",children:\"Voter ID\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-end\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"secondary\",className:\"me-2\",onClick:()=>setEditing(false),children:[/*#__PURE__*/_jsx(FaTimes,{className:\"me-1\"}),\" Cancel\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"success\",type:\"submit\",children:[/*#__PURE__*/_jsx(FaSave,{className:\"me-1\"}),\" Save Changes\"]})]})]}):/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-start mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:document.title}),/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",className:\"mb-3\",children:document.documentType})]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline-primary\",href:document.fileUrl,target:\"_blank\",download:true,children:[/*#__PURE__*/_jsx(FaDownload,{className:\"me-1\"}),\" Download\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[\"Uploaded by: \",document.owner.name,\" on\",' ',new Date(document.createdAt).toLocaleDateString()]}),/*#__PURE__*/_jsx(\"p\",{children:document.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Document Preview:\"}),document.fileUrl&&/*#__PURE__*/_jsx(\"div\",{className:\"document-preview-container border rounded p-2 mb-3\",children:document.fileUrl.match(/\\.(jpeg|jpg|gif|png)$/)?/*#__PURE__*/_jsx(\"img\",{src:document.fileUrl,alt:document.title,className:\"img-fluid rounded\",style:{maxHeight:'500px',maxWidth:'100%'}}):document.fileUrl.match(/\\.(pdf)$/)?/*#__PURE__*/_jsx(\"div\",{className:\"ratio ratio-16x9\",style:{height:'500px'},children:/*#__PURE__*/_jsx(\"iframe\",{src:document.fileUrl,title:document.title,allowFullScreen:true,className:\"rounded\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-light rounded\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Preview not available for this file type.\"}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",href:document.fileUrl,target:\"_blank\",children:[/*#__PURE__*/_jsx(FaDownload,{className:\"me-1\"}),\" Download Document\"]})]})})]}),canEdit&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"primary\",className:\"me-2\",onClick:()=>setEditing(true),children:[/*#__PURE__*/_jsx(FaEdit,{className:\"me-1\"}),\" Edit Details\"]}),isOwner&&/*#__PURE__*/_jsxs(Button,{variant:\"danger\",onClick:handleDelete,children:[/*#__PURE__*/_jsx(FaTrash,{className:\"me-1\"}),\" Delete Document\"]})]})]}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"document-preview mb-3\",children:document.fileUrl.match(/\\.(jpeg|jpg|gif|png)$/)?/*#__PURE__*/_jsx(\"img\",{src:document.fileUrl,alt:document.title,className:\"img-fluid\"}):/*#__PURE__*/_jsx(\"div\",{className:\"document-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-alt fa-5x\"})})}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",href:document.fileUrl,target:\"_blank\",rel:\"noopener noreferrer\",className:\"w-100\",children:[/*#__PURE__*/_jsx(FaDownload,{className:\"me-1\"}),\" Download Document\"]})]})})})]})}),isOwner&&/*#__PURE__*/_jsx(Tab,{eventKey:\"share\",title:\"Share Document\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Share with a Family Member\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleShare,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",name:\"email\",value:shareData.email,onChange:handleShareInputChange,placeholder:\"Enter email address\",required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Access Level\"}),/*#__PURE__*/_jsxs(Form.Select,{name:\"accessLevel\",value:shareData.accessLevel,onChange:handleShareInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"view\",children:\"View Only\"}),/*#__PURE__*/_jsx(\"option\",{value:\"edit\",children:\"Can Edit\"})]})]}),/*#__PURE__*/_jsxs(Button,{variant:\"success\",type:\"submit\",className:\"w-100\",children:[/*#__PURE__*/_jsx(FaShare,{className:\"me-1\"}),\" Share Document\"]})]})]})})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Shared With\"}),sharedUsers.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"This document hasn't been shared with anyone yet.\"}):/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:sharedUsers.map(share=>/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:share.user.name}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:share.user.email}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Badge,{bg:share.accessLevel==='edit'?'success':'info',children:share.accessLevel==='edit'?'Can Edit':'View Only'})})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:()=>handleRevokeAccess(share.user._id),children:\"Revoke Access\"})]},share.user._id))})]})})})]})})]})})})});};export default DocumentDetails;","map":{"version":3,"names":["React","useState","useEffect","useContext","Container","Row","Col","Card","Button","Form","Tab","Tabs","Alert","Badge","ListGroup","useParams","useLocation","useNavigate","FaDownload","FaEdit","FaTrash","FaShare","FaSave","FaTimes","axios","toast","AuthContext","Spinner","jsx","_jsx","jsxs","_jsxs","DocumentDetails","_location$state","id","location","navigate","user","document","setDocument","loading","setLoading","error","setError","editing","setEditing","activeTab","setActiveTab","state","shareTab","formData","setFormData","title","description","documentType","shareData","setShareData","email","accessLevel","sharedUsers","setSharedUsers","fetchDocument","res","get","concat","data","sharedWith","length","err","_err$response","_err$response$data","_err$response2","_err$response2$data","response","message","handleInputChange","e","_objectSpread","target","name","value","handleShareInputChange","handleUpdate","preventDefault","put","success","_err$response3","_err$response3$data","handleDelete","window","confirm","delete","_err$response4","_err$response4$data","handleShare","post","_err$response5","_err$response5$data","handleUpdateAccess","userId","newAccessLevel","_err$response6","_err$response6$data","handleRevokeAccess","_err$response7","_err$response7$data","children","variant","onClick","isOwner","canEdit","some","share","_id","className","Body","activeKey","onSelect","k","eventKey","onSubmit","Group","Label","Control","type","onChange","required","as","rows","Select","md","bg","href","fileUrl","download","owner","Date","createdAt","toLocaleDateString","match","src","alt","style","maxHeight","maxWidth","height","allowFullScreen","rel","Title","placeholder","map","Item","size"],"sources":["C:/Users/HP/Desktop/fileshare/frontend/src/pages/dashboard/DocumentDetails.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Container, Row, Col, Card, Button, Form, Tab, Tabs, Alert, Badge, ListGroup } from 'react-bootstrap';\nimport { useParams, useLocation, useNavigate } from 'react-router-dom';\nimport { FaDownload, FaEdit, FaTrash, FaShare, FaSave, FaTimes } from 'react-icons/fa';\nimport axios from '../../utils/axios';\nimport { toast } from 'react-toastify';\nimport AuthContext from '../../context/AuthContext';\nimport Spinner from '../../components/layout/Spinner';\n\nconst DocumentDetails = () => {\n  const { id } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { user } = useContext(AuthContext);\n  \n  const [document, setDocument] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [editing, setEditing] = useState(false);\n  const [activeTab, setActiveTab] = useState(location.state?.shareTab ? 'share' : 'details');\n  \n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    documentType: ''\n  });\n  \n  const [shareData, setShareData] = useState({\n    email: '',\n    accessLevel: 'view'\n  });\n  \n  const [sharedUsers, setSharedUsers] = useState([]);\n\n  useEffect(() => {\n    const fetchDocument = async () => {\n      try {\n        const res = await axios.get(`/api/documents/${id}`);\n        setDocument(res.data.data);\n        setFormData({\n          title: res.data.data.title,\n          description: res.data.data.description,\n          documentType: res.data.data.documentType\n        });\n        \n        // Set shared users from the document data\n        if (res.data.data.sharedWith && res.data.data.sharedWith.length > 0) {\n          setSharedUsers(res.data.data.sharedWith);\n        }\n      } catch (err) {\n        setError(err.response?.data?.message || 'Failed to fetch document');\n        toast.error(err.response?.data?.message || 'Failed to fetch document');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchDocument();\n  }, [id]);\n\n  const handleInputChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleShareInputChange = (e) => {\n    setShareData({ ...shareData, [e.target.name]: e.target.value });\n  };\n\n  const handleUpdate = async (e) => {\n    e.preventDefault();\n    \n    try {\n      const res = await axios.put(`/api/documents/${id}`, formData);\n      setDocument(res.data.data);\n      setEditing(false);\n      toast.success('Document updated successfully');\n    } catch (err) {\n      toast.error(err.response?.data?.message || 'Failed to update document');\n    }\n  };\n\n  const handleDelete = async () => {\n    if (window.confirm('Are you sure you want to delete this document?')) {\n      try {\n        await axios.delete(`/api/documents/${id}`);\n        toast.success('Document deleted successfully');\n        navigate('/my-documents');\n      } catch (err) {\n        toast.error(err.response?.data?.message || 'Failed to delete document');\n      }\n    }\n  };\n\n  const handleShare = async (e) => {\n    e.preventDefault();\n    \n    try {\n      await axios.post(`/api/documents/${id}/share`, shareData);\n      \n      // Refresh document to get updated shared users\n      const res = await axios.get(`/api/documents/${id}`);\n      setDocument(res.data.data);\n      setSharedUsers(res.data.data.sharedWith);\n      \n      // Reset form\n      setShareData({\n        email: '',\n        accessLevel: 'view'\n      });\n      \n      toast.success('Document shared successfully');\n    } catch (err) {\n      toast.error(err.response?.data?.message || 'Failed to share document');\n    }\n  };\n\n  const handleUpdateAccess = async (userId, newAccessLevel) => {\n    try {\n      await axios.put(`/api/documents/${id}/share/${userId}`, {\n        accessLevel: newAccessLevel\n      });\n      \n      // Refresh document to get updated shared users\n      const res = await axios.get(`/api/documents/${id}`);\n      setDocument(res.data.data);\n      setSharedUsers(res.data.data.sharedWith);\n      \n      toast.success('Access level updated successfully');\n    } catch (err) {\n      toast.error(err.response?.data?.message || 'Failed to update access level');\n    }\n  };\n\n  const handleRevokeAccess = async (userId) => {\n    if (window.confirm('Are you sure you want to revoke access for this user?')) {\n      try {\n        await axios.delete(`/api/documents/${id}/share/${userId}`);\n        \n        // Refresh document to get updated shared users\n        const res = await axios.get(`/api/documents/${id}`);\n        setDocument(res.data.data);\n        setSharedUsers(res.data.data.sharedWith);\n        \n        toast.success('Access revoked successfully');\n      } catch (err) {\n        toast.error(err.response?.data?.message || 'Failed to revoke access');\n      }\n    }\n  };\n\n  if (loading) {\n    return <Spinner />;\n  }\n\n  if (error) {\n    return (\n      <Container>\n        <Alert variant=\"danger\">{error}</Alert>\n        <Button variant=\"primary\" onClick={() => navigate(-1)}>\n          Go Back\n        </Button>\n      </Container>\n    );\n  }\n\n  // Use the isOwner flag from the server response\n  const isOwner = document.isOwner;\n  \n  // Check if the user has edit access\n  const canEdit = isOwner || document.sharedWith.some(share => \n    share.user && share.user._id === user._id && share.accessLevel === 'edit'\n  );\n\n  return (\n    <Container>\n      <Card className=\"shadow-sm mb-4\">\n        <Card.Body>\n          <Tabs\n            activeKey={activeTab}\n            onSelect={(k) => setActiveTab(k)}\n            className=\"mb-4\"\n          >\n            <Tab eventKey=\"details\" title=\"Document Details\">\n              {editing ? (\n                <Form onSubmit={handleUpdate}>\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>Title</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      name=\"title\"\n                      value={formData.title}\n                      onChange={handleInputChange}\n                      required\n                    />\n                  </Form.Group>\n                  \n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>Description</Form.Label>\n                    <Form.Control\n                      as=\"textarea\"\n                      rows={3}\n                      name=\"description\"\n                      value={formData.description}\n                      onChange={handleInputChange}\n                      required\n                    />\n                  </Form.Group>\n                  \n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>Document Type</Form.Label>\n                    <Form.Select\n                      name=\"documentType\"\n                      value={formData.documentType}\n                      onChange={handleInputChange}\n                      required\n                    >\n                      <option value=\"\">Select document type</option>\n                      <option value=\"Aadhaar\">Aadhaar</option>\n                      <option value=\"PAN Card\">PAN Card</option>\n                      <option value=\"Passport\">Passport</option>\n                      <option value=\"Driving License\">Driving License</option>\n                      <option value=\"Voter ID\">Voter ID</option>\n                      <option value=\"Other\">Other</option>\n                    </Form.Select>\n                  </Form.Group>\n                  \n                  <div className=\"d-flex justify-content-end\">\n                    <Button\n                      variant=\"secondary\"\n                      className=\"me-2\"\n                      onClick={() => setEditing(false)}\n                    >\n                      <FaTimes className=\"me-1\" /> Cancel\n                    </Button>\n                    <Button variant=\"success\" type=\"submit\">\n                      <FaSave className=\"me-1\" /> Save Changes\n                    </Button>\n                  </div>\n                </Form>\n              ) : (\n                <Row>\n                  <Col md={8}>\n                    <div className=\"d-flex justify-content-between align-items-start mb-3\">\n                      <div>\n                        <h2>{document.title}</h2>\n                        <Badge bg=\"secondary\" className=\"mb-3\">\n                          {document.documentType}\n                        </Badge>\n                      </div>\n                      <Button \n                        variant=\"outline-primary\" \n                        href={document.fileUrl} \n                        target=\"_blank\"\n                        download\n                      >\n                        <FaDownload className=\"me-1\" /> Download\n                      </Button>\n                    </div>\n                    <p className=\"text-muted\">\n                      Uploaded by: {document.owner.name} on{' '}\n                      {new Date(document.createdAt).toLocaleDateString()}\n                    </p>\n                    <p>{document.description}</p>\n                    \n                    {/* Document Preview */}\n                    <div className=\"mb-4\">\n                      <h5>Document Preview:</h5>\n                      {document.fileUrl && (\n                        <div className=\"document-preview-container border rounded p-2 mb-3\">\n                          {document.fileUrl.match(/\\.(jpeg|jpg|gif|png)$/) ? (\n                            <img \n                              src={document.fileUrl} \n                              alt={document.title} \n                              className=\"img-fluid rounded\" \n                              style={{ maxHeight: '500px', maxWidth: '100%' }} \n                            />\n                          ) : document.fileUrl.match(/\\.(pdf)$/) ? (\n                            <div className=\"ratio ratio-16x9\" style={{ height: '500px' }}>\n                              <iframe \n                                src={document.fileUrl} \n                                title={document.title} \n                                allowFullScreen\n                                className=\"rounded\"\n                              />\n                            </div>\n                          ) : (\n                            <div className=\"text-center p-3 bg-light rounded\">\n                              <p>Preview not available for this file type.</p>\n                              <Button variant=\"primary\" href={document.fileUrl} target=\"_blank\">\n                                <FaDownload className=\"me-1\" /> Download Document\n                              </Button>\n                            </div>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                    \n                    {canEdit && (\n                      <div className=\"mb-4\">\n                        <Button\n                          variant=\"primary\"\n                          className=\"me-2\"\n                          onClick={() => setEditing(true)}\n                        >\n                          <FaEdit className=\"me-1\" /> Edit Details\n                        </Button>\n                        \n                        {isOwner && (\n                          <Button\n                            variant=\"danger\"\n                            onClick={handleDelete}\n                          >\n                            <FaTrash className=\"me-1\" /> Delete Document\n                          </Button>\n                        )}\n                      </div>\n                    )}\n                  </Col>\n                  \n                  <Col md={4}>\n                    <Card>\n                      <Card.Body className=\"text-center\">\n                        <div className=\"document-preview mb-3\">\n                          {document.fileUrl.match(/\\.(jpeg|jpg|gif|png)$/) ? (\n                            <img\n                              src={document.fileUrl}\n                              alt={document.title}\n                              className=\"img-fluid\"\n                            />\n                          ) : (\n                            <div className=\"document-icon\">\n                              <i className=\"fas fa-file-alt fa-5x\"></i>\n                            </div>\n                          )}\n                        </div>\n                        <Button\n                          variant=\"primary\"\n                          href={document.fileUrl}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"w-100\"\n                        >\n                          <FaDownload className=\"me-1\" /> Download Document\n                        </Button>\n                      </Card.Body>\n                    </Card>\n                  </Col>\n                </Row>\n              )}\n            </Tab>\n            \n            {isOwner && (\n              <Tab eventKey=\"share\" title=\"Share Document\">\n                <Row>\n                  <Col md={6}>\n                    <Card className=\"mb-4\">\n                      <Card.Body>\n                        <Card.Title>Share with a Family Member</Card.Title>\n                        <Form onSubmit={handleShare}>\n                          <Form.Group className=\"mb-3\">\n                            <Form.Label>Email Address</Form.Label>\n                            <Form.Control\n                              type=\"email\"\n                              name=\"email\"\n                              value={shareData.email}\n                              onChange={handleShareInputChange}\n                              placeholder=\"Enter email address\"\n                              required\n                            />\n                          </Form.Group>\n                          \n                          <Form.Group className=\"mb-3\">\n                            <Form.Label>Access Level</Form.Label>\n                            <Form.Select\n                              name=\"accessLevel\"\n                              value={shareData.accessLevel}\n                              onChange={handleShareInputChange}\n                              required\n                            >\n                              <option value=\"view\">View Only</option>\n                              <option value=\"edit\">Can Edit</option>\n                            </Form.Select>\n                          </Form.Group>\n                          \n                          <Button variant=\"success\" type=\"submit\" className=\"w-100\">\n                            <FaShare className=\"me-1\" /> Share Document\n                          </Button>\n                        </Form>\n                      </Card.Body>\n                    </Card>\n                  </Col>\n                  \n                  <Col md={6}>\n                    <Card>\n                      <Card.Body>\n                        <Card.Title>Shared With</Card.Title>\n                        {sharedUsers.length === 0 ? (\n                          <p className=\"text-muted\">\n                            This document hasn't been shared with anyone yet.\n                          </p>\n                        ) : (\n                          <ListGroup variant=\"flush\">\n                            {sharedUsers.map((share) => (\n                              <ListGroup.Item\n                                key={share.user._id}\n                                className=\"d-flex justify-content-between align-items-center\"\n                              >\n                                <div>\n                                  <div>{share.user.name}</div>\n                                  <small className=\"text-muted\">{share.user.email}</small>\n                                  <div>\n                                    <Badge\n                                      bg={share.accessLevel === 'edit' ? 'success' : 'info'}\n                                    >\n                                      {share.accessLevel === 'edit' ? 'Can Edit' : 'View Only'}\n                                    </Badge>\n                                  </div>\n                                </div>\n                                <Button\n                                  variant=\"outline-danger\"\n                                  size=\"sm\"\n                                  onClick={() => handleRevokeAccess(share.user._id)}\n                                >\n                                  Revoke Access\n                                </Button>\n                              </ListGroup.Item>\n                            ))}\n                          </ListGroup>\n                        )}\n                      </Card.Body>\n                    </Card>\n                  </Col>\n                </Row>\n              </Tab>\n            )}\n          </Tabs>\n        </Card.Body>\n      </Card>\n    </Container>\n  );\n};\n\nexport default DocumentDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\fileshare\\\\client\\\\src\\\\pages\\\\dashboard\\\\DocumentDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Container, Row, Col, Card, Button, Form, Tab, Tabs, Alert, Badge, ListGroup } from 'react-bootstrap';\nimport { useParams, useLocation, useNavigate } from 'react-router-dom';\nimport { FaDownload, FaEdit, FaTrash, FaShare, FaSave, FaTimes } from 'react-icons/fa';\nimport axios from '../../utils/axios';\nimport { toast } from 'react-toastify';\nimport AuthContext from '../../context/AuthContext';\nimport Spinner from '../../components/layout/Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DocumentDetails = () => {\n  _s();\n  var _location$state;\n  const {\n    id\n  } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [document, setDocument] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [editing, setEditing] = useState(false);\n  const [activeTab, setActiveTab] = useState((_location$state = location.state) !== null && _location$state !== void 0 && _location$state.shareTab ? 'share' : 'details');\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    documentType: ''\n  });\n  const [shareData, setShareData] = useState({\n    email: '',\n    accessLevel: 'view'\n  });\n  const [sharedUsers, setSharedUsers] = useState([]);\n  useEffect(() => {\n    const fetchDocument = async () => {\n      try {\n        const res = await axios.get(`/api/documents/${id}`);\n        setDocument(res.data.data);\n        setFormData({\n          title: res.data.data.title,\n          description: res.data.data.description,\n          documentType: res.data.data.documentType\n        });\n\n        // Set shared users from the document data\n        if (res.data.data.sharedWith && res.data.data.sharedWith.length > 0) {\n          setSharedUsers(res.data.data.sharedWith);\n        }\n      } catch (err) {\n        var _err$response, _err$response$data, _err$response2, _err$response2$data;\n        setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to fetch document');\n        toast.error(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Failed to fetch document');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchDocument();\n  }, [id]);\n  const handleInputChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleShareInputChange = e => {\n    setShareData({\n      ...shareData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleUpdate = async e => {\n    e.preventDefault();\n    try {\n      const res = await axios.put(`/api/documents/${id}`, formData);\n      setDocument(res.data.data);\n      setEditing(false);\n      toast.success('Document updated successfully');\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      toast.error(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || 'Failed to update document');\n    }\n  };\n  const handleDelete = async () => {\n    if (window.confirm('Are you sure you want to delete this document?')) {\n      try {\n        await axios.delete(`/api/documents/${id}`);\n        toast.success('Document deleted successfully');\n        navigate('/my-documents');\n      } catch (err) {\n        var _err$response4, _err$response4$data;\n        toast.error(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || 'Failed to delete document');\n      }\n    }\n  };\n  const handleShare = async e => {\n    e.preventDefault();\n    try {\n      await axios.post(`/api/documents/${id}/share`, shareData);\n\n      // Refresh document to get updated shared users\n      const res = await axios.get(`/api/documents/${id}`);\n      setDocument(res.data.data);\n      setSharedUsers(res.data.data.sharedWith);\n\n      // Reset form\n      setShareData({\n        email: '',\n        accessLevel: 'view'\n      });\n      toast.success('Document shared successfully');\n    } catch (err) {\n      var _err$response5, _err$response5$data;\n      toast.error(((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.message) || 'Failed to share document');\n    }\n  };\n  const handleUpdateAccess = async (userId, newAccessLevel) => {\n    try {\n      await axios.put(`/api/documents/${id}/share/${userId}`, {\n        accessLevel: newAccessLevel\n      });\n\n      // Refresh document to get updated shared users\n      const res = await axios.get(`/api/documents/${id}`);\n      setDocument(res.data.data);\n      setSharedUsers(res.data.data.sharedWith);\n      toast.success('Access level updated successfully');\n    } catch (err) {\n      var _err$response6, _err$response6$data;\n      toast.error(((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : (_err$response6$data = _err$response6.data) === null || _err$response6$data === void 0 ? void 0 : _err$response6$data.message) || 'Failed to update access level');\n    }\n  };\n  const handleRevokeAccess = async userId => {\n    if (window.confirm('Are you sure you want to revoke access for this user?')) {\n      try {\n        await axios.delete(`/api/documents/${id}/share/${userId}`);\n\n        // Refresh document to get updated shared users\n        const res = await axios.get(`/api/documents/${id}`);\n        setDocument(res.data.data);\n        setSharedUsers(res.data.data.sharedWith);\n        toast.success('Access revoked successfully');\n      } catch (err) {\n        var _err$response7, _err$response7$data;\n        toast.error(((_err$response7 = err.response) === null || _err$response7 === void 0 ? void 0 : (_err$response7$data = _err$response7.data) === null || _err$response7$data === void 0 ? void 0 : _err$response7$data.message) || 'Failed to revoke access');\n      }\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: () => navigate(-1),\n        children: \"Go Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Use the isOwner flag from the server response\n  const isOwner = document.isOwner;\n\n  // Check if the user has edit access\n  const canEdit = isOwner || document.sharedWith.some(share => share.user && share.user._id === user._id && share.accessLevel === 'edit');\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"shadow-sm mb-4\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          activeKey: activeTab,\n          onSelect: k => setActiveTab(k),\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            eventKey: \"details\",\n            title: \"Document Details\",\n            children: editing ? /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: handleUpdate,\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Title\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"title\",\n                  value: formData.title,\n                  onChange: handleInputChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  as: \"textarea\",\n                  rows: 3,\n                  name: \"description\",\n                  value: formData.description,\n                  onChange: handleInputChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Document Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                  name: \"documentType\",\n                  value: formData.documentType,\n                  onChange: handleInputChange,\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select document type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Aadhaar\",\n                    children: \"Aadhaar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"PAN Card\",\n                    children: \"PAN Card\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Passport\",\n                    children: \"Passport\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Driving License\",\n                    children: \"Driving License\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Voter ID\",\n                    children: \"Voter ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Other\",\n                    children: \"Other\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-end\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"secondary\",\n                  className: \"me-2\",\n                  onClick: () => setEditing(false),\n                  children: [/*#__PURE__*/_jsxDEV(FaTimes, {\n                    className: \"me-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 23\n                  }, this), \" Cancel\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"success\",\n                  type: \"submit\",\n                  children: [/*#__PURE__*/_jsxDEV(FaSave, {\n                    className: \"me-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 23\n                  }, this), \" Save Changes\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 8,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between align-items-start mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                      children: document.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 245,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                      bg: \"secondary\",\n                      className: \"mb-3\",\n                      children: document.documentType\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outline-primary\",\n                    href: document.fileUrl,\n                    target: \"_blank\",\n                    download: true,\n                    children: [/*#__PURE__*/_jsxDEV(FaDownload, {\n                      className: \"me-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 256,\n                      columnNumber: 25\n                    }, this), \" Download\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-muted\",\n                  children: [\"Uploaded by: \", document.owner.name, \" on\", ' ', new Date(document.createdAt).toLocaleDateString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: document.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: \"Document Preview:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 23\n                  }, this), document.fileUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"document-preview-container border rounded p-2 mb-3\",\n                    children: document.fileUrl.match(/\\.(jpeg|jpg|gif|png)$/) ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: document.fileUrl,\n                      alt: document.title,\n                      className: \"img-fluid rounded\",\n                      style: {\n                        maxHeight: '500px',\n                        maxWidth: '100%'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 271,\n                      columnNumber: 29\n                    }, this) : document.fileUrl.match(/\\.(pdf)$/) ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ratio ratio-16x9\",\n                      style: {\n                        height: '500px'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n                        src: document.fileUrl,\n                        title: document.title,\n                        allowFullScreen: true,\n                        className: \"rounded\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 279,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center p-3 bg-light rounded\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Preview not available for this file type.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 288,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"primary\",\n                        href: document.fileUrl,\n                        target: \"_blank\",\n                        children: [/*#__PURE__*/_jsxDEV(FaDownload, {\n                          className: \"me-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 290,\n                          columnNumber: 33\n                        }, this), \" Download Document\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 289,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 287,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this), canEdit && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"primary\",\n                    className: \"me-2\",\n                    onClick: () => setEditing(true),\n                    children: [/*#__PURE__*/_jsxDEV(FaEdit, {\n                      className: \"me-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 27\n                    }, this), \" Edit Details\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 25\n                  }, this), isOwner && /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"danger\",\n                    onClick: handleDelete,\n                    children: [/*#__PURE__*/_jsxDEV(FaTrash, {\n                      className: \"me-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 313,\n                      columnNumber: 29\n                    }, this), \" Delete Document\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"document-preview mb-3\",\n                      children: document.fileUrl.match(/\\.(jpeg|jpg|gif|png)$/) ? /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: document.fileUrl,\n                        alt: document.title,\n                        className: \"img-fluid\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 325,\n                        columnNumber: 29\n                      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"document-icon\",\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-file-alt fa-5x\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 332,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 331,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 323,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"primary\",\n                      href: document.fileUrl,\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      className: \"w-100\",\n                      children: [/*#__PURE__*/_jsxDEV(FaDownload, {\n                        className: \"me-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 343,\n                        columnNumber: 27\n                      }, this), \" Download Document\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), isOwner && /*#__PURE__*/_jsxDEV(Tab, {\n            eventKey: \"share\",\n            title: \"Share Document\",\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  className: \"mb-4\",\n                  children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                    children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                      children: \"Share with a Family Member\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Form, {\n                      onSubmit: handleShare,\n                      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                        className: \"mb-3\",\n                        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                          children: \"Email Address\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 361,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                          type: \"email\",\n                          name: \"email\",\n                          value: shareData.email,\n                          onChange: handleShareInputChange,\n                          placeholder: \"Enter email address\",\n                          required: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 362,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 360,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                        className: \"mb-3\",\n                        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                          children: \"Access Level\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 373,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                          name: \"accessLevel\",\n                          value: shareData.accessLevel,\n                          onChange: handleShareInputChange,\n                          required: true,\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"view\",\n                            children: \"View Only\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 380,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"edit\",\n                            children: \"Can Edit\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 381,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 374,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 372,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"success\",\n                        type: \"submit\",\n                        className: \"w-100\",\n                        children: [/*#__PURE__*/_jsxDEV(FaShare, {\n                          className: \"me-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 386,\n                          columnNumber: 29\n                        }, this), \" Share Document\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 385,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                    children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                      children: \"Shared With\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 396,\n                      columnNumber: 25\n                    }, this), sharedUsers.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-muted\",\n                      children: \"This document hasn't been shared with anyone yet.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 398,\n                      columnNumber: 27\n                    }, this) : /*#__PURE__*/_jsxDEV(ListGroup, {\n                      variant: \"flush\",\n                      children: sharedUsers.map(share => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                        className: \"d-flex justify-content-between align-items-center\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            children: share.user.name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 409,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                            className: \"text-muted\",\n                            children: share.user.email\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 410,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            children: /*#__PURE__*/_jsxDEV(Badge, {\n                              bg: share.accessLevel === 'edit' ? 'success' : 'info',\n                              children: share.accessLevel === 'edit' ? 'Can Edit' : 'View Only'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 412,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 411,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 408,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outline-danger\",\n                          size: \"sm\",\n                          onClick: () => handleRevokeAccess(share.user._id),\n                          children: \"Revoke Access\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 419,\n                          columnNumber: 33\n                        }, this)]\n                      }, share.user._id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 404,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 402,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n};\n_s(DocumentDetails, \"10qtYfnlzVUA4umaG+yr7sU/2Ng=\", false, function () {\n  return [useParams, useLocation, useNavigate];\n});\n_c = DocumentDetails;\nexport default DocumentDetails;\nvar _c;\n$RefreshReg$(_c, \"DocumentDetails\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Container","Row","Col","Card","Button","Form","Tab","Tabs","Alert","Badge","ListGroup","useParams","useLocation","useNavigate","FaDownload","FaEdit","FaTrash","FaShare","FaSave","FaTimes","axios","toast","AuthContext","Spinner","jsxDEV","_jsxDEV","DocumentDetails","_s","_location$state","id","location","navigate","user","document","setDocument","loading","setLoading","error","setError","editing","setEditing","activeTab","setActiveTab","state","shareTab","formData","setFormData","title","description","documentType","shareData","setShareData","email","accessLevel","sharedUsers","setSharedUsers","fetchDocument","res","get","data","sharedWith","length","err","_err$response","_err$response$data","_err$response2","_err$response2$data","response","message","handleInputChange","e","target","name","value","handleShareInputChange","handleUpdate","preventDefault","put","success","_err$response3","_err$response3$data","handleDelete","window","confirm","delete","_err$response4","_err$response4$data","handleShare","post","_err$response5","_err$response5$data","handleUpdateAccess","userId","newAccessLevel","_err$response6","_err$response6$data","handleRevokeAccess","_err$response7","_err$response7$data","fileName","_jsxFileName","lineNumber","columnNumber","children","variant","onClick","isOwner","canEdit","some","share","_id","className","Body","activeKey","onSelect","k","eventKey","onSubmit","Group","Label","Control","type","onChange","required","as","rows","Select","md","bg","href","fileUrl","download","owner","Date","createdAt","toLocaleDateString","match","src","alt","style","maxHeight","maxWidth","height","allowFullScreen","rel","Title","placeholder","map","Item","size","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/fileshare/client/src/pages/dashboard/DocumentDetails.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Container, Row, Col, Card, Button, Form, Tab, Tabs, Alert, Badge, ListGroup } from 'react-bootstrap';\nimport { useParams, useLocation, useNavigate } from 'react-router-dom';\nimport { FaDownload, FaEdit, FaTrash, FaShare, FaSave, FaTimes } from 'react-icons/fa';\nimport axios from '../../utils/axios';\nimport { toast } from 'react-toastify';\nimport AuthContext from '../../context/AuthContext';\nimport Spinner from '../../components/layout/Spinner';\n\nconst DocumentDetails = () => {\n  const { id } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { user } = useContext(AuthContext);\n  \n  const [document, setDocument] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [editing, setEditing] = useState(false);\n  const [activeTab, setActiveTab] = useState(location.state?.shareTab ? 'share' : 'details');\n  \n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    documentType: ''\n  });\n  \n  const [shareData, setShareData] = useState({\n    email: '',\n    accessLevel: 'view'\n  });\n  \n  const [sharedUsers, setSharedUsers] = useState([]);\n\n  useEffect(() => {\n    const fetchDocument = async () => {\n      try {\n        const res = await axios.get(`/api/documents/${id}`);\n        setDocument(res.data.data);\n        setFormData({\n          title: res.data.data.title,\n          description: res.data.data.description,\n          documentType: res.data.data.documentType\n        });\n        \n        // Set shared users from the document data\n        if (res.data.data.sharedWith && res.data.data.sharedWith.length > 0) {\n          setSharedUsers(res.data.data.sharedWith);\n        }\n      } catch (err) {\n        setError(err.response?.data?.message || 'Failed to fetch document');\n        toast.error(err.response?.data?.message || 'Failed to fetch document');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchDocument();\n  }, [id]);\n\n  const handleInputChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleShareInputChange = (e) => {\n    setShareData({ ...shareData, [e.target.name]: e.target.value });\n  };\n\n  const handleUpdate = async (e) => {\n    e.preventDefault();\n    \n    try {\n      const res = await axios.put(`/api/documents/${id}`, formData);\n      setDocument(res.data.data);\n      setEditing(false);\n      toast.success('Document updated successfully');\n    } catch (err) {\n      toast.error(err.response?.data?.message || 'Failed to update document');\n    }\n  };\n\n  const handleDelete = async () => {\n    if (window.confirm('Are you sure you want to delete this document?')) {\n      try {\n        await axios.delete(`/api/documents/${id}`);\n        toast.success('Document deleted successfully');\n        navigate('/my-documents');\n      } catch (err) {\n        toast.error(err.response?.data?.message || 'Failed to delete document');\n      }\n    }\n  };\n\n  const handleShare = async (e) => {\n    e.preventDefault();\n    \n    try {\n      await axios.post(`/api/documents/${id}/share`, shareData);\n      \n      // Refresh document to get updated shared users\n      const res = await axios.get(`/api/documents/${id}`);\n      setDocument(res.data.data);\n      setSharedUsers(res.data.data.sharedWith);\n      \n      // Reset form\n      setShareData({\n        email: '',\n        accessLevel: 'view'\n      });\n      \n      toast.success('Document shared successfully');\n    } catch (err) {\n      toast.error(err.response?.data?.message || 'Failed to share document');\n    }\n  };\n\n  const handleUpdateAccess = async (userId, newAccessLevel) => {\n    try {\n      await axios.put(`/api/documents/${id}/share/${userId}`, {\n        accessLevel: newAccessLevel\n      });\n      \n      // Refresh document to get updated shared users\n      const res = await axios.get(`/api/documents/${id}`);\n      setDocument(res.data.data);\n      setSharedUsers(res.data.data.sharedWith);\n      \n      toast.success('Access level updated successfully');\n    } catch (err) {\n      toast.error(err.response?.data?.message || 'Failed to update access level');\n    }\n  };\n\n  const handleRevokeAccess = async (userId) => {\n    if (window.confirm('Are you sure you want to revoke access for this user?')) {\n      try {\n        await axios.delete(`/api/documents/${id}/share/${userId}`);\n        \n        // Refresh document to get updated shared users\n        const res = await axios.get(`/api/documents/${id}`);\n        setDocument(res.data.data);\n        setSharedUsers(res.data.data.sharedWith);\n        \n        toast.success('Access revoked successfully');\n      } catch (err) {\n        toast.error(err.response?.data?.message || 'Failed to revoke access');\n      }\n    }\n  };\n\n  if (loading) {\n    return <Spinner />;\n  }\n\n  if (error) {\n    return (\n      <Container>\n        <Alert variant=\"danger\">{error}</Alert>\n        <Button variant=\"primary\" onClick={() => navigate(-1)}>\n          Go Back\n        </Button>\n      </Container>\n    );\n  }\n\n  // Use the isOwner flag from the server response\n  const isOwner = document.isOwner;\n  \n  // Check if the user has edit access\n  const canEdit = isOwner || document.sharedWith.some(share => \n    share.user && share.user._id === user._id && share.accessLevel === 'edit'\n  );\n\n  return (\n    <Container>\n      <Card className=\"shadow-sm mb-4\">\n        <Card.Body>\n          <Tabs\n            activeKey={activeTab}\n            onSelect={(k) => setActiveTab(k)}\n            className=\"mb-4\"\n          >\n            <Tab eventKey=\"details\" title=\"Document Details\">\n              {editing ? (\n                <Form onSubmit={handleUpdate}>\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>Title</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      name=\"title\"\n                      value={formData.title}\n                      onChange={handleInputChange}\n                      required\n                    />\n                  </Form.Group>\n                  \n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>Description</Form.Label>\n                    <Form.Control\n                      as=\"textarea\"\n                      rows={3}\n                      name=\"description\"\n                      value={formData.description}\n                      onChange={handleInputChange}\n                      required\n                    />\n                  </Form.Group>\n                  \n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>Document Type</Form.Label>\n                    <Form.Select\n                      name=\"documentType\"\n                      value={formData.documentType}\n                      onChange={handleInputChange}\n                      required\n                    >\n                      <option value=\"\">Select document type</option>\n                      <option value=\"Aadhaar\">Aadhaar</option>\n                      <option value=\"PAN Card\">PAN Card</option>\n                      <option value=\"Passport\">Passport</option>\n                      <option value=\"Driving License\">Driving License</option>\n                      <option value=\"Voter ID\">Voter ID</option>\n                      <option value=\"Other\">Other</option>\n                    </Form.Select>\n                  </Form.Group>\n                  \n                  <div className=\"d-flex justify-content-end\">\n                    <Button\n                      variant=\"secondary\"\n                      className=\"me-2\"\n                      onClick={() => setEditing(false)}\n                    >\n                      <FaTimes className=\"me-1\" /> Cancel\n                    </Button>\n                    <Button variant=\"success\" type=\"submit\">\n                      <FaSave className=\"me-1\" /> Save Changes\n                    </Button>\n                  </div>\n                </Form>\n              ) : (\n                <Row>\n                  <Col md={8}>\n                    <div className=\"d-flex justify-content-between align-items-start mb-3\">\n                      <div>\n                        <h2>{document.title}</h2>\n                        <Badge bg=\"secondary\" className=\"mb-3\">\n                          {document.documentType}\n                        </Badge>\n                      </div>\n                      <Button \n                        variant=\"outline-primary\" \n                        href={document.fileUrl} \n                        target=\"_blank\"\n                        download\n                      >\n                        <FaDownload className=\"me-1\" /> Download\n                      </Button>\n                    </div>\n                    <p className=\"text-muted\">\n                      Uploaded by: {document.owner.name} on{' '}\n                      {new Date(document.createdAt).toLocaleDateString()}\n                    </p>\n                    <p>{document.description}</p>\n                    \n                    {/* Document Preview */}\n                    <div className=\"mb-4\">\n                      <h5>Document Preview:</h5>\n                      {document.fileUrl && (\n                        <div className=\"document-preview-container border rounded p-2 mb-3\">\n                          {document.fileUrl.match(/\\.(jpeg|jpg|gif|png)$/) ? (\n                            <img \n                              src={document.fileUrl} \n                              alt={document.title} \n                              className=\"img-fluid rounded\" \n                              style={{ maxHeight: '500px', maxWidth: '100%' }} \n                            />\n                          ) : document.fileUrl.match(/\\.(pdf)$/) ? (\n                            <div className=\"ratio ratio-16x9\" style={{ height: '500px' }}>\n                              <iframe \n                                src={document.fileUrl} \n                                title={document.title} \n                                allowFullScreen\n                                className=\"rounded\"\n                              />\n                            </div>\n                          ) : (\n                            <div className=\"text-center p-3 bg-light rounded\">\n                              <p>Preview not available for this file type.</p>\n                              <Button variant=\"primary\" href={document.fileUrl} target=\"_blank\">\n                                <FaDownload className=\"me-1\" /> Download Document\n                              </Button>\n                            </div>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                    \n                    {canEdit && (\n                      <div className=\"mb-4\">\n                        <Button\n                          variant=\"primary\"\n                          className=\"me-2\"\n                          onClick={() => setEditing(true)}\n                        >\n                          <FaEdit className=\"me-1\" /> Edit Details\n                        </Button>\n                        \n                        {isOwner && (\n                          <Button\n                            variant=\"danger\"\n                            onClick={handleDelete}\n                          >\n                            <FaTrash className=\"me-1\" /> Delete Document\n                          </Button>\n                        )}\n                      </div>\n                    )}\n                  </Col>\n                  \n                  <Col md={4}>\n                    <Card>\n                      <Card.Body className=\"text-center\">\n                        <div className=\"document-preview mb-3\">\n                          {document.fileUrl.match(/\\.(jpeg|jpg|gif|png)$/) ? (\n                            <img\n                              src={document.fileUrl}\n                              alt={document.title}\n                              className=\"img-fluid\"\n                            />\n                          ) : (\n                            <div className=\"document-icon\">\n                              <i className=\"fas fa-file-alt fa-5x\"></i>\n                            </div>\n                          )}\n                        </div>\n                        <Button\n                          variant=\"primary\"\n                          href={document.fileUrl}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"w-100\"\n                        >\n                          <FaDownload className=\"me-1\" /> Download Document\n                        </Button>\n                      </Card.Body>\n                    </Card>\n                  </Col>\n                </Row>\n              )}\n            </Tab>\n            \n            {isOwner && (\n              <Tab eventKey=\"share\" title=\"Share Document\">\n                <Row>\n                  <Col md={6}>\n                    <Card className=\"mb-4\">\n                      <Card.Body>\n                        <Card.Title>Share with a Family Member</Card.Title>\n                        <Form onSubmit={handleShare}>\n                          <Form.Group className=\"mb-3\">\n                            <Form.Label>Email Address</Form.Label>\n                            <Form.Control\n                              type=\"email\"\n                              name=\"email\"\n                              value={shareData.email}\n                              onChange={handleShareInputChange}\n                              placeholder=\"Enter email address\"\n                              required\n                            />\n                          </Form.Group>\n                          \n                          <Form.Group className=\"mb-3\">\n                            <Form.Label>Access Level</Form.Label>\n                            <Form.Select\n                              name=\"accessLevel\"\n                              value={shareData.accessLevel}\n                              onChange={handleShareInputChange}\n                              required\n                            >\n                              <option value=\"view\">View Only</option>\n                              <option value=\"edit\">Can Edit</option>\n                            </Form.Select>\n                          </Form.Group>\n                          \n                          <Button variant=\"success\" type=\"submit\" className=\"w-100\">\n                            <FaShare className=\"me-1\" /> Share Document\n                          </Button>\n                        </Form>\n                      </Card.Body>\n                    </Card>\n                  </Col>\n                  \n                  <Col md={6}>\n                    <Card>\n                      <Card.Body>\n                        <Card.Title>Shared With</Card.Title>\n                        {sharedUsers.length === 0 ? (\n                          <p className=\"text-muted\">\n                            This document hasn't been shared with anyone yet.\n                          </p>\n                        ) : (\n                          <ListGroup variant=\"flush\">\n                            {sharedUsers.map((share) => (\n                              <ListGroup.Item\n                                key={share.user._id}\n                                className=\"d-flex justify-content-between align-items-center\"\n                              >\n                                <div>\n                                  <div>{share.user.name}</div>\n                                  <small className=\"text-muted\">{share.user.email}</small>\n                                  <div>\n                                    <Badge\n                                      bg={share.accessLevel === 'edit' ? 'success' : 'info'}\n                                    >\n                                      {share.accessLevel === 'edit' ? 'Can Edit' : 'View Only'}\n                                    </Badge>\n                                  </div>\n                                </div>\n                                <Button\n                                  variant=\"outline-danger\"\n                                  size=\"sm\"\n                                  onClick={() => handleRevokeAccess(share.user._id)}\n                                >\n                                  Revoke Access\n                                </Button>\n                              </ListGroup.Item>\n                            ))}\n                          </ListGroup>\n                        )}\n                      </Card.Body>\n                    </Card>\n                  </Col>\n                </Row>\n              </Tab>\n            )}\n          </Tabs>\n        </Card.Body>\n      </Card>\n    </Container>\n  );\n};\n\nexport default DocumentDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}